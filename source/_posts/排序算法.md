---
title: 排序算法
date: 2017-02-21 20:53:14
tags:
 -排序
categories: 算法
---
<blockquote class="blockquote-center">各类排序算法</blockquote>
<!--more-->
## 快速排序

    #include <iostream>
    #include <cstdlib>
    using namespace std;
    
    int partition(int data[], int start, int end){
    	int i = rand()%(end-start)+start;
    	int key = data[i];
    	swap(data[i],data[end]);
    	int small = start - 1;
    	for(i=start;i<=end;i++){
    		if(data[i]<key){
    			++small;
    			if(small != i)
    				swap(data[i],data[small]);
    			}
    		}
    	small ++;
    	swap(data[small],data[end]);
    	return small;
    	}
    	
    int partition1(int data[],int start,int end){
	    int key = rand()%(end - start) + start;
    	int x = data[key];
    	swap(data[start],data[key]);
    	int i=start,j=end;
    	while(i<j){
	    	while(j>i && data[j]>=x)
	    		j--;
	    	if(i<j)
	       	 data[i++] = data[j];
    		while(i<j && data[i] < x)
	    		i++;
    		if(i<j)
	    		data[j--] = data[i];
	    	}
    	data[i] = x;
    	return i;
    	}
    
    void quickSort(int data[],int start,int end){
    	if(start < end){
    		int p = partition(data,start,end);
    		quickSort(data,start,p-1);
    		quickSort(data,p+1,end);
    		}
    	}
    
    int main(){
    	int data[10] = {8,6,3,10,11,19,15,2,12,20};
    	quickSort(data,0,9);
    	for(int i=0;i<10;i++){
    		cout<<data[i]<<" ";
    		}
    	cout<<endl;
    	}

##　归并排序

    #include <iostream>
    using namespace std;
    
    void merge(int *a,int low,int mid,int high){
    	int *temp=new int[high-low+1];
    	int i=low,j=mid+1,k=0;
    	while(i<=mid && j<=high){
    		if(a[i] < a[j])
    			temp[k++] = a[i++];
    		else
    			temp[k++] = a[j++];
    		}
    	while(i<=mid)
    		temp[k++] = a[i++];
    	while(j<=high)
    		temp[k++] = a[j++];
    	for(i=0;i<k;i++)
    		a[low+i] = temp[i];
    	}
    
    void mergeSort(int *a,int low,int high){
    	if(low<high){
    		int mid = (low+high)/2;
    		mergeSort(a,low,mid);
    		mergeSort(a,mid+1,high);
    		merge(a,low,mid,high);
    		}
    	}
    
    int main(){
    	int a[10] = {12,8,4,6,13,15,7,11,5,20};
    	mergeSort(a,0,9);
    	for(int i=0;i<10;i++){
    		cout<<a[i]<<" ";
    		}
    	cout<<endl;
    	return 0;
    	}

## 插入排序

    #include<iostream>
    using namespace std;
    
    void insertSort(int *a,int len){
    	for(int j=0;j<len;j++){
    		int i = j-1;
    		int key = a[j];
    		while(i>=0 && a[i] > key){
    			a[i+1] = a[i];
    			i--;
    			}
    		a[i+1] = key;
    		}
    	}
    
    int main(){
    	int a[10] = {8,5,1,10,12,11,16,15,13,8};
    	insertSort(a,10);
    	for(int i=0;i<10;i++){
    		cout<<a[i]<<" ";
    		}
        cout<<endl;
    	}
    	
## 冒泡排序

    #include <iostream>
    using namespace std;
    
    void bubbleSort(int a[],int len){
    	bool flag = false;
    	for(int i=0;i<len;i++){
    		if(flag)
    			break;
    		flag = true;
    		for(int j=len-1;j>i;j--){
    			if(a[j]<a[j-1]){
    				swap(a[j],a[j-1]);
    				flag = false;
    				}
    			}
    		}
    	}
    
    int main(){
    	int a[10] = {5,4,2,8,6,5,1,7,12,10};
    	bubbleSort(a,10);
    	for(int i=0;i<10;i++){
    		cout<<a[i]<<" ";
    		}
    	cout<<endl;
    	}
还有一个所谓的双向冒泡递归法，其实就是快速排序的一种，将基准值用临时变量存储。

    void BilateralBubbleSort(int *a, int first, int last)   
    {  
        if (first >= last) //退出条件  
        {                            
             return;  
        }  
        int i = first;  
        int j = last;  
          
        int temp = a[first];      
        while (i != j)   
        {                              
            while (i<j && a[j]>=temp)    
            {  
                j--;  
            }  
            a[i] = a[j];  
            while (i<j && a[i]<=temp)   
            {  
                i++;  
            }  
            a[j] = a[i];  
        }  
        a[i] = temp;  
      
        //递归，有点像快速排序，就是中间值放在临时变量而不是数组尾部  
        BilateralBubbleSort(a, first, i-1);       
        BilateralBubbleSort(a, i+1, last);  
    } 

##　选择排序

    #include <iostream>
    using namespace std;
    
    void selectSort(int a[],int len){
    	for(int i=0;i<len-1;i++){
    		for(int j=i+1;j<len;j++){
    			if(a[j]<a[i])
    				swap(a[j],a[i]);
    			}
    		}
    	}
    
    int main(){
    	int a[10] = {5,2,4,6,8,1,5,7,10,9};
    	selectSort(a,10);
    	for(int i=0;i<10;i++){
    		cout<<a[i]<<" ";
    		}
    	cout<<endl;
    	}
    	
## 希尔排序

    #include <iostream>
    using namespace std;
    void shellSort(int a[],int len){
    	int h = 1;
    	while(h<len)
    		h = 3*h + 1;
    	while(h>0){
    		for(int j=h;j<len;j++){
    			int key = a[j];
    			int i = j-h;
    			while(i>=0 && a[i]>key){
    				a[i+h] = a[i];
    				i-=h;
    			}
    			a[i+h] = key;
    			}
    		  h=h/3;
    		}
    	}
    
    int main(){
    	int a[20] = {19,16,13,8,4,9,11,18,17,6,20,21,11,14,2,5,7,19,11,18};
    	shellSort(a,20);
    	for(int i=0;i<20;i++)
    		cout<<a[i]<<" ";
    	cout<<endl;
    	}
    	
## 堆排序
二叉堆是一种完全二叉树，(若设二叉树的深度为$h$，除第$h$层外，其它各层 $(1～h-1)$ 的结点数都达到最大个数，第 $h$ 层所有的结点都连续集中在最左边，这就是完全二叉树。)，二叉堆满足以下两个性质：

 1. 父结点的键值总是大于或等于（小于或等于）任何一个子节点的键值
 2．每个结点的左子树和右子树都是一个二叉堆（都是最大堆或最小堆）
 
堆一般采用数组存储，下标$i$的父节点为$(i-1)/2$
最小堆逆排序

    #include <iostream>
    using namespace std;
    void swim(int a[],int k){
    	while(k>0 && a[k]<a[(k-1)/2]){
    		swap(a[k],a[(k-1)/2]);
    		k = (k-1)/2;
    		}
    	}
    
    void sink(int a[],int n,int k){
    	while(2*k+1<n){
    		int j = 2*k+1;
    		if(j+1<n && a[j]>a[j+1])
    			j++;
    		if(a[k]<a[j])
    			break;
    		swap(a[k],a[j]);
    		k = j;
    		}
    	}
    
    void insert(int a[],int n,int num){
    	a[n] = num;
    	swim(a,n);
    	}
    
    void delroot(int a[],int n){
    	swap(a[0],a[n-1]);
    	sink(a,n-1,0);
    	}
    
    void makeheap(int a[],int n){
    	for(int i = n/2-1;i>=0;i--)
    		sink(a,n,i);
    	}
    
    void heapSort(int a[],int n){
    	for(int i=n-1;i>=0;i--){
    		swap(a[0],a[i]);
    		sink(a,i,0);
    		}
    	}
    
    int main(){
    	int x[10] = {12,11,14,13,8,9,7,2,15,2};
    	makeheap(x,10);
    	for(int i=0;i<10;i++)
    		cout<<x[i]<<" ";
    	cout<<endl;
    	heapSort(x,10);
    	for(int i=0;i<10;i++)
    		cout<<x[i]<<" ";
    	cout<<endl;
    	return 0;
    	}
    	
## 计数排序

    #include <iostream>
    using namespace std;
    
    void countSort(int a[],int *b,int n,int k){
    	 int *c;
    	 c = new int[k+1];
    	 for(int i=0;i<=k;i++)
    		 c[i] = 0;
    	 for(int i=0;i<n;i++){
    		 c[a[i]]++;
    		 }
    	 for(int i=1;i<=k;i++){
    		 c[i] = c[i]+c[i-1];
    		 }
    	 for(int i=0;i<n;i++){
    		 int num = a[i];
    		 int pos = c[num];
    		 b[pos-1] = num;
    		 c[num]--;
    		 }
    	
    	}
    
    int main(){
    	int a[10] = {8,7,6,1,3,3,6,9,10,4};
    	int b[10];
    	countSort(a,b,10,10);
    	for(int i=0;i<10;i++)
    		cout<<b[i]<<" ";
    	cout<<endl;
    	}

## 基数排序

    #include<iostream>
    using namespace std;
    
    int maxbit(int a[],int len){
    	int d = 1;
    	int temp = 10;
    	for(int i=0;i<len;i++){
    		while(a[i]>=temp){
    			d++;
    			temp*=10;
    			}
    		}
    	return d;
    	}
    
    void radixSort(int *a,int len){
    	int d = maxbit(a,len);
    	int *b = new int[len];
    	int *c = new int[11];
    		int temp = 1;
    		int num,value;
    	for(int i=0;i<d;i++){
    		for(int k=0;k<10;k++)
    			c[k] = 0;
    		for(int j=0;j<len;j++){
    			num = (a[j]/temp)%10;
    			c[num]++;
    			}
    		for(int j=1;j<10;j++)
    			c[j] = c[j-1]+c[j];
    		for(int j=len-1;j>=0;j--){
    		     value = (a[j]/temp)%10;
    			 b[c[value]-1] = a[j];
    			 c[value]--;
    			}
    		for(int j=0;j<len;j++)
    			a[j] = b[j];
    		temp*=10;
    		}
    	}
    
    int main(){
    	int a[10] = {123,456,148,786,45,3,123,111,987,654};
    	radixSort(a,10);
    	for(int i=0;i<10;i++)
    		cout<<a[i]<<" ";
    	cout<<endl;
    	}

## 桶排序

    #include<iostream>
    using namespace std;
    
    void buckSort(int a[],int max,int len){
    	int c[max+1];
    	for(int i=0;i<max;i++){
    		c[i] = 0;
    		}
    	for(int i=0;i<len;i++){
    		c[a[i]]++;
    		}
    	int count = 0;
    	for(int i=0;i<max;i++){
    		int b = c[i];
    		for(int j=0;j<b;j++){
    			a[count] = i;
    			count++;
    			}
    		}
    
    	}
    
    int main(){
    	int a[10] = {12,16,21,8,7,19,3,6,11,12};
    	buckSort(a,22,10);
    	for(int i=0;i<10;i++)
    		cout<<a[i]<<" ";
    	cout<<endl;
    	}
